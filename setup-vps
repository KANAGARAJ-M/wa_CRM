Alright, clean slate ğŸ˜„ Letâ€™s do this **from zero** on an **Ubuntu VPS** and get GitHub working the *right* way.

Iâ€™ll assume:

* Fresh Ubuntu (20.04 / 22.04 / 24.04)
* You have SSH access to the VPS
* Goal: clone & push GitHub repos

---

## 1ï¸âƒ£ Update the system

Always first.

```bash
sudo apt update && sudo apt upgrade -y
```

---

## 2ï¸âƒ£ Install Git

Git is usually not installed on a fresh VPS.

```bash
sudo apt install git -y
```

Verify:

```bash
git --version
```

---

## 3ï¸âƒ£ Configure Git (important)

Set your GitHub identity:

```bash
git config --global user.name "E-buy-gms"
git config --global user.email "gms.fashionr@gmail.com"
```

Check:

```bash
git config --global --list
```

---

## 4ï¸âƒ£ Generate SSH key (for GitHub login)

This is how your VPS â€œlogs inâ€ to GitHub.

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

When prompted:

* **File location** â†’ press Enter
* **Passphrase** â†’ optional (press Enter to skip)

---

## 5ï¸âƒ£ Start SSH agent & add key

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

---

## 6ï¸âƒ£ Copy the SSH public key

```bash
cat ~/.ssh/id_ed25519.pub
```

Copy **everything** it prints.

---

## 7ï¸âƒ£ Add SSH key to GitHub

On your **local browser**:

1. GitHub â†’ **Settings**
2. **SSH and GPG keys**
3. **New SSH key**
4. Title: `Ubuntu VPS`
5. Paste key â†’ **Save**

---

## 8ï¸âƒ£ Test GitHub login

Back on the VPS:

```bash
ssh -T git@github.com
```

Type `yes` if asked.

Success looks like:

```
Hi username! You've successfully authenticated...
```

ğŸ”¥ GitHub access is now live.

---

## 9ï¸âƒ£ Clone a repository

Use **SSH URL**, not HTTPS.

```bash
git clone git@github.com:username/repository.git
cd repository
```

---

## 10ï¸âƒ£ Push test (optional)

```bash
touch test.txt
git add .
git commit -m "Test from VPS"
git push
```

No username. No password. Just works ğŸ˜Œ

---

## ğŸ§  Pro VPS tips

* One SSH key per server (good security hygiene)
* Name keys clearly in GitHub
* If you use multiple GitHub accounts, tell me â€” setup is slightly different

---

If you want, next I can help you:

* ğŸ” Use **multiple GitHub accounts**
* ğŸ¤– Setup **GitHub Actions** on VPS
* ğŸš€ Auto-deploy from GitHub
* ğŸ§± Lock down SSH security on the VPS

Just say the word ğŸ‘Œ






















Perfect â€” thanks for pasting the output. This actually tells us **everything is already set up correctly** ğŸ‘
You just tripped on one very common GitHub gotcha.

---

## âœ… Whatâ€™s working (important)

This line confirms your VPS is **already logged into GitHub via SSH**:

```
Hi E-buy-gms! You've successfully authenticated
```

So authentication = âœ… DONE
No issues with keys. No reinstall needed.

---

## âŒ What went wrong

You tried to clone using **HTTPS**:

```bash
git clone https://github.com/E-buy-gms/CRM.git
```

GitHub **does NOT allow passwords anymore** for HTTPS.
Thatâ€™s why it keeps failing, even with `sudo`.

> `sudo` does NOT help here â€” this is GitHub auth, not Linux permissions.

---

## âœ… The fix (1-line solution)

Since SSH is already working, **use the SSH repo URL**:

```bash
git clone git@github.com:E-buy-gms/CRM.git
```

Run that **exactly** from here:

```bash
cd /var/www/html
git clone git@github.com:E-buy-gms/CRM.git
```

Thatâ€™s it. No username. No password. No token.

---

## ğŸ§  Why this works

* `ssh -T git@github.com` â†’ proves SSH auth is valid
* `git@github.com:E-buy-gms/CRM.git` â†’ uses that SSH identity
* HTTPS â†’ requires a **Personal Access Token**, not a password

You already chose the better path (SSH), just needed the right URL ğŸ˜‰

---

## ğŸ” Verify after clone

```bash
cd CRM
ls
git status
```

---

## âš ï¸ One small VPS best-practice note

Youâ€™re doing everything as **root**. It works, but long-term itâ€™s safer to:

* Create a deploy user (e.g. `deploy`)
* Own `/var/www/html` with that user
* Use root only for system stuff

If you want, I can:

* ğŸ‘¤ Create a proper `deploy` user
* ğŸ” Fix folder permissions for Nginx
* ğŸš€ Hook this repo to auto-deploy
* ğŸ§± Secure SSH (disable root login)

Just tell me what you want next ğŸ‘Œ



















Nice, thatâ€™s a clean run so far ğŸ‘Œ
Repo cloned, deps installed â€” youâ€™re ready for **PM2 + Nginx**. Letâ€™s wire it up step-by-step.

Iâ€™ll assume:

* This is a **Node.js backend** in `CRM/server`
* It listens on some port (very often `3000` or `5000`)
* Nginx will act as a **reverse proxy**

If your port is different, just swap it.

---

## 1ï¸âƒ£ Install Node.js (verify first)

Check Node version:

```bash
node -v
npm -v
```

If Node is **not installed** or too old (â‰¤14), install LTS:

```bash
curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -
sudo apt install -y nodejs
```

---

## 2ï¸âƒ£ Install PM2 globally

```bash
npm install -g pm2
```

Verify:

```bash
pm2 -v
```

---

## 3ï¸âƒ£ Start the app with PM2

Go to your server folder (youâ€™re already there):

```bash
cd /var/www/html/CRM/server
```

Check how the app starts (open `package.json`):

```bash
cat package.json
```

Youâ€™re looking for something like:

```json
"scripts": {
  "start": "node index.js"
}
```

### Start with PM2 (recommended)

```bash
pm2 start npm --name crm-api -- start
```

OR if you know the entry file:

```bash
pm2 start index.js --name crm-api
```

---

## 4ï¸âƒ£ Verify PM2 is running

```bash
pm2 status
pm2 logs crm-api
```

Make sure there are **no errors**.

---

## 5ï¸âƒ£ Make PM2 start on reboot

Very important on a VPS:

```bash
pm2 startup
```

PM2 will output a command â€” **copy & run it** (it usually starts with `sudo`).

Then:

```bash
pm2 save
```

---

## 6ï¸âƒ£ Find the app port

Check where your app is listening:

```bash
ss -tulnp | grep node
```

Example output:

```
LISTEN 0 511 127.0.0.1:3000
```

ğŸ‘‰ Weâ€™ll assume **3000** below.

---

## 7ï¸âƒ£ Install Nginx

```bash
sudo apt install nginx -y
```

Check:

```bash
systemctl status nginx
```

---

## 8ï¸âƒ£ Configure Nginx for your app

Create a new config:

```bash
sudo nano /etc/nginx/sites-available/crm
```

Paste this (adjust domain & port):

```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

If you **donâ€™t have a domain yet**, use:

```nginx
server_name _;
```

---

## 9ï¸âƒ£ Enable the site

```bash
sudo ln -s /etc/nginx/sites-available/crm /etc/nginx/sites-enabled/
sudo rm /etc/nginx/sites-enabled/default
```

Test config:

```bash
sudo nginx -t
```

Reload Nginx:

```bash
sudo systemctl reload nginx
```

---

## ğŸ”Ÿ Open firewall (if enabled)

```bash
sudo ufw allow 'Nginx Full'
sudo ufw reload
```

---

## âœ… Final check

* Visit `http://YOUR_SERVER_IP`
* Or `http://your-domain.com`

If it loads â†’ ğŸš€ youâ€™re live.

---

## ğŸ”¥ Production upgrades (strongly recommended)

Next logical steps:

* ğŸ” **HTTPS with Letâ€™s Encrypt**
* ğŸ“ **Environment variables (.env)**
* ğŸ§ **Run PM2 as non-root user**
* ğŸ” **Zero-downtime reloads**
* ğŸ“Š **PM2 monitoring**

Tell me:

1. Which **port** your Node app uses
2. Do you have a **domain name** yet?
3. Want **HTTPS** next?

Iâ€™ll lock it in properly ğŸ’ª































Nice â€” youâ€™ve got a real hostname, perfect ğŸ˜„
Letâ€™s put **HTTPS (SSL)** on `srv1304549.hstgr.cloud` the **correct production way** using **Letâ€™s Encrypt + Nginx**.

This will give you:

* ğŸ”’ HTTPS
* ğŸ” Auto-renewing certificate
* ğŸš€ Zero downtime

---

## 0ï¸âƒ£ Quick sanity check

Make sure this works **before SSL**:

```bash
curl http://srv1304549.hstgr.cloud
```

If you get a response (HTML / JSON), weâ€™re good.

---

## 1ï¸âƒ£ Install Certbot (Letâ€™s Encrypt)

On Ubuntu:

```bash
sudo apt update
sudo apt install certbot python3-certbot-nginx -y
```

Verify:

```bash
certbot --version
```

---

## 2ï¸âƒ£ Make sure Nginx config has the correct domain

Open your Nginx config:

```bash
sudo nano /etc/nginx/sites-available/crm
```

It **must** contain:

```nginx
server_name srv1304549.hstgr.cloud;
```

Example full config (Node on port 3000):

```nginx
server {
    listen 80;
    server_name srv1304549.hstgr.cloud;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

Save â†’ exit.

Test:

```bash
sudo nginx -t
sudo systemctl reload nginx
```

---

## 3ï¸âƒ£ Get SSL certificate (THIS is the magic)

Run:

```bash
sudo certbot --nginx -d srv1304549.hstgr.cloud
```

Certbot will ask:

1. **Email** â†’ enter your email
2. **Terms** â†’ Y
3. **Redirect HTTP to HTTPS?** â†’ **YES (recommended)**

âœ… Certbot will:

* Get the SSL cert
* Modify Nginx
* Enable HTTPS
* Add auto-renew

---

## 4ï¸âƒ£ Verify HTTPS

Open in browser:

ğŸ‘‰ **[https://srv1304549.hstgr.cloud](https://srv1304549.hstgr.cloud)**

You should see:

* ğŸ”’ Lock icon
* No browser warnings

CLI test:

```bash
curl -I https://srv1304549.hstgr.cloud
```

---

## 5ï¸âƒ£ Auto-renew check (important)

Letâ€™s Encrypt certs auto-renew via cron. Test it:

```bash
sudo certbot renew --dry-run
```

If no errors â†’ youâ€™re future-proof ğŸ‘

---

## 6ï¸âƒ£ What Certbot changed (FYI)

It automatically created:

* HTTPS server block (port 443)
* HTTP â†’ HTTPS redirect
* SSL config files

You donâ€™t need to touch them.

---

## ğŸ”¥ Optional hardening (recommended)

If you want to go pro:

* ğŸ” Force strong TLS only
* ğŸ›¡ Add security headers
* ğŸš€ Enable gzip / brotli
* ğŸ“¦ Serve frontend + API together
* ğŸ§ Move app off root user

---

If HTTPS **doesnâ€™t load**, tell me:

1. Output of `sudo nginx -t`
2. Output of `pm2 status`
3. Which port your Node app listens on

But honestly â€” this setup is textbook.
Once you run Certbot, youâ€™re done ğŸ”’âœ¨
